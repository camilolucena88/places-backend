{% for payment in payments %}
    <tr data-row="0" class="datatable-row" style="left: 0px;">
        <td class="datatable-cell-sorted datatable-cell-left datatable-cell" data-field="RecordID"
            aria-label="1"><span style="width: 40px;"><span
                class="font-weight-bolder">{{ payment.invoice.id }}</span></span></td>
        <td data-field="OrderID" aria-label="64616-103" class="datatable-cell">
            <span style="width: 150px;">
                <div class="d-flex align-items-center">
                    <div class="ml-4">
                        <div class="text-dark-75 font-weight-bolder font-size-lg mb-0">{{ request.user.first_name }} {{ request.user.last_name }}</div>
                    </div>
                </div>
            </span>
        </td>
        <td data-field="Country" aria-label="Brazil" class="datatable-cell">
            <span style="width: 254px;">
                <div class="font-weight-bolder font-size-lg mb-0">{{ payment.description }}</div>
            </span>
        </td>
        <td data-field="ShipDate" aria-label="10/15/2017" class="datatable-cell">
            <span style="width: 154px;">
                {% if payment.invoice.content_type.model == 'paymentgroups' %}
                    <div class="font-weight-bolder font-size-lg mb-0 text-muted"><a href="/payments/groups/{{ payment.invoice.object_id }}">{{ payment.invoice.content_object }}</a></div>
                {% else %}
                    <div class="font-weight-bolder font-size-lg mb-0 text-muted"><a href="/courses/students/{{ payment.invoice.object_id }}">{{ payment.invoice.content_object }}</a></div>
                {% endif %}
            </span>
        </td>
        <td data-field="ShipDate" aria-label="10/15/2017" class="datatable-cell">
            <span style="width: 154px;">
                <div class="font-weight-bolder font-size-lg mb-0 text-muted">{{ payment.created_at.date }}</div>
            </span>
        </td>
        <td data-field="Status" aria-label="5" class="datatable-cell">
            <span style="width: 154px;">
                            <span class="font-weight-bolder font-size-lg mb-0 text-muted">{{ payment.invoice.expired_at.date }}</span>
            </span>
        </td>
        <td data-field="CompanyName" aria-label="Casper-Kerluke" class="datatable-cell">
            <span style="width: 154px;">
                <div class="label label-lg font-size-lg font-weight-bold  label-light-{{ payment.verify_status }} label-inline">${{ payment.amount }}</div>
            </span>
        </td>
        <td data-field="Actions" data-autohide-disabled="false" aria-label="null" class="datatable-cell">
            <button type="button" class="btn btn-sm btn-default btn-text-primary btn-hover-primary btn-icon"
                    data-toggle="modal" data-target="#approve"
                    title="Approve">
                        <span class="svg-icon svg-icon-primary svg-icon-2x">
                            <!--begin::Svg Icon | path:/var/www/preview.keenthemes.com/keen/releases/2021-03-15-144509/theme/demo2/dist/../src/media/svg/icons/Navigation/Double-check.svg-->
                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                                 width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
                                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                    <polygon points="0 0 24 0 24 24 0 24"/>
                                    <path d="M9.26193932,16.6476484 C8.90425297,17.0684559 8.27315905,17.1196257 7.85235158,16.7619393 C7.43154411,16.404253 7.38037434,15.773159 7.73806068,15.3523516 L16.2380607,5.35235158 C16.6013618,4.92493855 17.2451015,4.87991302 17.6643638,5.25259068 L22.1643638,9.25259068 C22.5771466,9.6195087 22.6143273,10.2515811 22.2474093,10.6643638 C21.8804913,11.0771466 21.2484189,11.1143273 20.8356362,10.7474093 L17.0997854,7.42665306 L9.26193932,16.6476484 Z"
                                          fill="#000000" fill-rule="nonzero" opacity="0.3"
                                          transform="translate(14.999995, 11.000002) rotate(-180.000000) translate(-14.999995, -11.000002) "/>
                                    <path d="M4.26193932,17.6476484 C3.90425297,18.0684559 3.27315905,18.1196257 2.85235158,17.7619393 C2.43154411,17.404253 2.38037434,16.773159 2.73806068,16.3523516 L11.2380607,6.35235158 C11.6013618,5.92493855 12.2451015,5.87991302 12.6643638,6.25259068 L17.1643638,10.2525907 C17.5771466,10.6195087 17.6143273,11.2515811 17.2474093,11.6643638 C16.8804913,12.0771466 16.2484189,12.1143273 15.8356362,11.7474093 L12.0997854,8.42665306 L4.26193932,17.6476484 Z"
                                          fill="#000000" fill-rule="nonzero"
                                          transform="translate(9.999995, 12.000002) rotate(-180.000000) translate(-9.999995, -12.000002) "/>
                                </g>
                            </svg>
                            <!--end::Svg Icon-->
                        </span>
            </button>
            <button type="button" class="btn btn-sm btn-default btn-text-primary btn-hover-primary btn-icon"
                    data-toggle="modal" data-target="#reject"
                    title="Reject">
                <span class="svg-icon svg-icon-primary svg-icon-2x"><!--begin::Svg Icon | path:/var/www/preview.keenthemes.com/keen/releases/2021-03-15-144509/theme/demo2/dist/../src/media/svg/icons/Code/Stop.svg--><svg
                        xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px"
                        height="24px" viewBox="0 0 24 24" version="1.1">
                    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                        <rect x="0" y="0" width="24" height="24"/>
                        <path d="M12,22 C6.4771525,22 2,17.5228475 2,12 C2,6.4771525 6.4771525,2 12,2 C17.5228475,2 22,6.4771525 22,12 C22,17.5228475 17.5228475,22 12,22 Z M12,20 C16.418278,20 20,16.418278 20,12 C20,7.581722 16.418278,4 12,4 C7.581722,4 4,7.581722 4,12 C4,16.418278 7.581722,20 12,20 Z M19.0710678,4.92893219 L19.0710678,4.92893219 C19.4615921,5.31945648 19.4615921,5.95262146 19.0710678,6.34314575 L6.34314575,19.0710678 C5.95262146,19.4615921 5.31945648,19.4615921 4.92893219,19.0710678 L4.92893219,19.0710678 C4.5384079,18.6805435 4.5384079,18.0473785 4.92893219,17.6568542 L17.6568542,4.92893219 C18.0473785,4.5384079 18.6805435,4.5384079 19.0710678,4.92893219 Z"
                              fill="#000000" fill-rule="nonzero" opacity="0.3"/>
                    </g>
                </svg><!--end::Svg Icon--></span>
            </button>
        </td>
    </tr>
    <!-- Modal-->
    <div class="modal fade" id="approve" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
         aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">¿Estás seguro de aprobar este pago?</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <i aria-hidden="true" class="ki ki-close"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <div><span>Estudiante relacionado:</span> <span
                            class="font-size-h4 font-size-lg-h2">{{ payment.related_student }}</span></div>
                    <div>Relizado por: <span
                            class="font-size-h4 font-size-lg-h2">{{ payment.created_by.first_name }} {{ payment.created_by.last_name }}</span>
                    </div>
                    <div>Monto: <span class="font-size-h4 font-size-lg-h2">{{ payment.amount }}</span></div>
                    <div>Descripcion: <span class="font-size-h4 font-size-lg-h2">{{ payment.description }}</span></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-light-primary font-weight-bold" data-dismiss="modal">Close
                    </button>
                    <form action="{% url 'approve_payment' payment.id %}" method="POST">
                        {% csrf_token %}
                        <button type="submit" class="btn btn-primary font-weight-bold">Save changes</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal-->
    <div class="modal fade" id="reject" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
         aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Modal Title</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <i aria-hidden="true" class="ki ki-close"></i>
                    </button>
                </div>
                <div class="modal-body">
                    ...
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-light-primary font-weight-bold" data-dismiss="modal">Close
                    </button>
                    <button type="button" class="btn btn-primary font-weight-bold">Save changes</button>
                </div>
            </div>
        </div>
    </div>
{% endfor %}